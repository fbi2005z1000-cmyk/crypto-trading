<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Crypto Trading Arena - Tr√≤ ch∆°i</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <canvas id="bgParticles" class="bg-canvas"></canvas>
  <div class="noise"></div>
  <div class="orb orb-a"></div>
  <div class="orb orb-b"></div>
  <button id="adminRevealBtn" class="admin-reveal" type="button" aria-label="M·ªü b·∫£ng admin">Admin</button>
  <div class="auth-overlay" id="authOverlay" aria-hidden="false">
    <div class="auth-card">
      <div class="auth-title">ƒêƒÉng nh·∫≠p</div>
      <div class="auth-sub">ƒêƒÉng nh·∫≠p ho·∫∑c ƒëƒÉng k√Ω ƒë·ªÉ v√†o game.</div>
      <label class="auth-label" for="authUsername">T√†i kho·∫£n</label>
      <input id="authUsername" class="auth-input" autocomplete="username" />
      <label class="auth-label" for="authPassword">M·∫≠t kh·∫©u</label>
      <input id="authPassword" class="auth-input" type="password" autocomplete="current-password" />
      <label class="auth-label" for="authInviteCode">M√£ m·ªùi (n·∫øu c√≥)</label>
      <input id="authInviteCode" class="auth-input" type="text" placeholder="Nh·∫≠p m√£ m·ªùi khi ƒëƒÉng k√Ω" />
      <div id="authAdminCodeWrap" class="hidden">
        <label class="auth-label" for="authAdminCode">M√£ s·∫øp (ch·ªâ cho admin)</label>
        <input id="authAdminCode" class="auth-input" type="password" autocomplete="one-time-code" placeholder="Nh·∫≠p m√£ s·∫øp ƒë·ªÉ ti·∫øp t·ª•c" />
      </div>
      <label class="auth-remember">
        <input type="checkbox" id="authRemember" />
        Ghi nh·ªõ ƒëƒÉng nh·∫≠p
      </label>
      <div class="auth-actions">
        <button class="auth-btn primary" id="authLoginBtn" type="button" aria-label="ƒêƒÉng nh·∫≠p">ƒêƒÉng nh·∫≠p</button>
        <button class="auth-btn ghost" id="authRegisterBtn" type="button" aria-label="ƒêƒÉng k√Ω">ƒêƒÉng k√Ω</button>
      </div>
      <div class="auth-error" id="authError"></div>
    </div>
  </div>
  <div class="onboarding-overlay hidden" id="onboardingOverlay" aria-hidden="true">
    <div class="onboarding-card">
      <div class="onboarding-step" id="onboardingStep">B∆∞·ªõc 1/3</div>
      <div class="onboarding-title" id="onboardingTitle">B·∫Øt ƒë·∫ßu nhanh</div>
      <div class="onboarding-text" id="onboardingText">Nh·∫≠p t√†i kho·∫£n c·ªßa b·∫°n ƒë·ªÉ v√†o game.</div>
      <div class="onboarding-actions">
        <button id="onboardingSkip" type="button">B·ªè qua</button>
        <button id="onboardingSkipForever" type="button">Kh√¥ng hi·ªán l·∫°i</button>
        <button id="onboardingNext" type="button">Ti·∫øp t·ª•c</button>
      </div>
    </div>
    <div class="onboarding-tooltip" id="onboardingTooltip"></div>
  </div>
  <div class="academy-overlay hidden" id="academyOverlay" aria-hidden="true">
    <div class="academy-spotlight" id="academySpotlight"></div>
    <div class="academy-panel" id="academyPanel">
      <div class="academy-head">
        <div class="academy-step" id="academyStep">B∆∞·ªõc 1/10</div>
        <button class="academy-lang" id="academyLangToggle" type="button">üáªüá≥ TI·∫æNG VI·ªÜT / üá∫üá∏ ENGLISH</button>
      </div>
      <div class="academy-title" id="academyTitle">H·ªçc vi·ªán Trading T∆∞∆°ng t√°c</div>
      <div class="academy-text" id="academyText"></div>
      <div class="academy-checklist" id="academyChecklist"></div>
      <div class="academy-status" id="academyStatus"></div>
      <div class="academy-tools" id="academyTools">
        <button id="academySpeak" type="button">Nghe ƒë·ªçc</button>
        <button id="academyTip" type="button">Tip</button>
        <button id="academyQuiz" type="button">Quiz</button>
        <button id="academyPractice" type="button">Luy·ªán t·∫≠p</button>
      </div>
      <div class="academy-progress">
        <div class="academy-progress-fill" id="academyProgressFill"></div>
      </div>
      <div class="academy-actions">
        <button id="academyPrev" type="button">Quay l·∫°i</button>
        <button id="academyNext" type="button">Ti·∫øp t·ª•c</button>
        <button id="academyRestart" type="button">Bat dau lai</button>
        <button id="academyClose" type="button">Tho√°t</button>
      </div>
    </div>
  </div>

  <div class="candle-guide-overlay hidden" id="candleGuideOverlay" aria-hidden="true">
    <div class="candle-guide-card">
      <div class="candle-guide-head">
        <div>
          <div class="candle-guide-title">Th∆∞ vi·ªán m·∫´u n·∫øn</div>
          <div class="candle-guide-sub">50 m·∫´u n·∫øn kinh ƒëi·ªÉn k√®m c√°ch nh·∫≠n bi·∫øt</div>
        </div>
        <div class="candle-guide-actions">
          <span class="candle-guide-count" id="candleGuideCount">0/50</span>
          <button id="candlePracticeBtn" type="button">Luy·ªán t·∫≠p</button>
          <button id="candleGuideClose" type="button">ƒê√≥ng</button>
        </div>
      </div>
      <div class="candle-guide-progress">
        <div class="candle-guide-progress-fill" id="candleGuideProgressFill"></div>
      </div>
      <div class="candle-guide-search">
        <input id="candleGuideSearch" type="text" placeholder="T√¨m m·∫´u n·∫øn (Hammer, Doji...)" />
      </div>
      <div class="candle-guide-list" id="candleGuideList"></div>
    </div>
  </div>

  <div class="candle-practice-overlay hidden" id="candlePracticeOverlay" aria-hidden="true">
    <div class="candle-practice-card">
      <div class="candle-practice-head">
        <div>
          <div class="candle-practice-title">Luy·ªán t·∫≠p nh·∫≠n di·ªán n·∫øn</div>
          <div class="candle-practice-sub">Quan s√°t m·∫´u n·∫øn v√† ch·ªçn ƒë√∫ng t√™n.</div>
        </div>
        <div class="candle-practice-actions">
          <span class="candle-practice-score" id="candlePracticeScore">0/0</span>
          <button id="candlePracticeClose" type="button">ƒê√≥ng</button>
        </div>
      </div>
      <div class="candle-practice-canvas">
        <canvas id="candlePracticeCanvas" width="420" height="200"></canvas>
      </div>
      <div class="candle-practice-question" id="candlePracticeQuestion">M·∫´u n·∫øn l√† g√¨?</div>
      <div class="candle-practice-options" id="candlePracticeOptions"></div>
      <div class="candle-practice-footer">
        <button id="candlePracticeNext" type="button">C√¢u kh√°c</button>
        <button id="candlePracticeClaim" type="button" class="primary">Nh·∫≠n th∆∞·ªüng</button>
      </div>
    </div>
  </div>

  <header class="topbar">
    <div class="brand">
      <div class="logo">Œ£</div>
      <div>
        <div class="brand-title">Crypto Trading Arena</div>
        <div class="brand-sub">M√¥ ph·ªèng s√†n giao d·ªãch si√™u chi ti·∫øt</div>
      </div>
    </div>
    <div class="status">
      <div class="pill net-badge offline" id="netBadge">M·∫•t k·∫øt n·ªëi</div>
      <div class="pill pending-badge hidden" id="pendingBadge">ƒêang x·ª≠ l√Ω: 0</div>
      <div class="pill live">M√î PH·ªéNG LIVE</div>
      <div class="pill">T·ª∑ gi√° 1 USD ‚âà <span id="fxRate"></span> VND</div>
      <div class="pill">Ph√≠: <span id="feeRate">0.10%</span></div>
      <div class="pill user-rank hidden" id="userRank"></div>
      <button class="pill toggle" id="themeToggle" type="button" aria-label="Doi che do sang">Ch·∫ø ƒë·ªô s√°ng</button>
      <button class="pill toggle" id="compactToggle" type="button" aria-label="Gon giao dien">G·ªçn giao di·ªán</button>
      <button class="pill toggle" id="academyBtn" type="button" aria-label="Mo hoc vien">H·ªçc vi·ªán</button>
      <button class="pill toggle mail-btn" id="mailBtn" type="button" aria-label="Mo hop thu">
        H·ªôp th∆∞ <span id="mailCount" class="mail-badge hidden">0</span>
      </button>
      <button class="pill toggle" id="logoutBtn" type="button" aria-label="ƒêƒÉng xu·∫•t">ƒêƒÉng xu·∫•t</button>
    </div>
  </header>

  <section class="ticker" aria-label="B·∫£ng gi√° ch·∫°y">
    <div class="ticker-track" id="tickerTrack"></div>
  </section>
  <section class="news-bar" aria-label="Tin t·ª©c th·ªã tr∆∞·ªùng">
    <div class="news-label">TIN T·ª®C</div>
    <div class="news-track" id="newsTrack"></div>
  </section>

  <main class="main-grid">
    <section class="panel market" id="panelMarket">
      <div class="panel-head">
        <button id="chatPopupOpen" class="mini" type="button">M·ªü popup</button>
        <div>
          <div class="panel-title">Th·ªã tr∆∞·ªùng</div>
          <div class="panel-sub">T·∫•t c·∫£ c·∫∑p coin (m√¥ ph·ªèng)</div>
        </div>
        <div class="controls">
          <button class="chip active" data-quote="USD">USD</button>
          <button class="chip" data-quote="VND">VND</button>
        </div>
      </div>
      <div class="market-tools">
        <input id="searchInput" placeholder="T√¨m coin (BTC, ETH...)" />
        <div class="mini-toggle">
          <button id="watchAll" class="mini active">T·∫•t c·∫£</button>
          <button id="watchFav" class="mini">Theo d√µi</button>
        </div>
        <div class="quick-filter">
          <button id="quickToggle" class="mini">T√¨m nhanh</button>
          <div id="quickLetters" class="quick-letters hidden"></div>
        </div>
      </div>
      <div class="market-table" id="marketTable"></div>
    </section>

    <section class="panel chart" id="panelChart">
      <div class="panel-head">
        <div>
          <div class="panel-title" id="pairTitle">BTC/USDT</div>
          <div class="panel-sub" id="pairSub">Gi√° c·∫≠p nh·∫≠t theo th·ªùi gian th·ª±c</div>
        </div>
        <div class="price-box">
          <div class="price" id="priceNow">0</div>
          <div class="change" id="priceChange">0%</div>
        </div>
      </div>
      <div class="stats-row">
        <div class="stat">24h High <span id="high24">0</span></div>
        <div class="stat">24h Low <span id="low24">0</span></div>
        <div class="stat">24h Vol <span id="vol24">0</span></div>
      </div>
      <div class="sentiment">
        <div class="sentiment-head">
          <div class="sentiment-title">Fear & Greed Index</div>
          <div class="sentiment-value" id="sentimentValue">50 Neutral</div>
        </div>
        <div class="sentiment-bar">
          <div class="sentiment-fill" id="sentimentFill"></div>
        </div>
      </div>
      <div class="chart-controls">
        <div class="layout-group">
          <button class="chip layout-btn active" data-layout="1">1x</button>
          <button class="chip layout-btn" data-layout="2">2x</button>
          <button class="chip layout-btn" data-layout="4">4x</button>
        </div>
        <div class="slot-selects" id="slotSelects">
          <select class="slot-select" data-slot="0"></select>
          <select class="slot-select" data-slot="1"></select>
          <select class="slot-select" data-slot="2"></select>
          <select class="slot-select" data-slot="3"></select>
        </div>
      </div>
      <div class="chart-toolbar">
        <div class="toolbar-group">
          <button class="time-btn active" data-tf="1m">1m</button>
          <button class="time-btn" data-tf="5m">5m</button>
          <button class="time-btn" data-tf="15m">15m</button>
          <button class="time-btn" data-tf="1h">1h</button>
          <button class="time-btn" data-tf="1d">1d</button>
        </div>
        <div class="toolbar-group">
          <button class="time-btn ind" data-ind="ema9">EMA9</button>
          <button class="time-btn ind" data-ind="ema21">EMA21</button>
          <button class="time-btn ind active" data-ind="ma14">MA14</button>
          <button class="time-btn ind" data-ind="ma50">MA50</button>
          <button class="time-btn ind" data-ind="ma200">MA200</button>
          <button class="time-btn ind" data-ind="rsi">RSI</button>
          <button class="time-btn ind" data-ind="bb">BOLL</button>
          <button class="time-btn ind" data-ind="macd">MACD</button>
          <button class="time-btn ind" data-ind="atr">ATR</button>
          <button class="time-btn ind" data-ind="vp">VP</button>
        </div>
      </div>
      <div class="tip-chips" id="tipChips" data-tips="1">
        <button class="tip-chip" data-tip="candle">N·∫øn l√† g√¨?</button>
        <button class="tip-chip" data-tip="trend">X√°c ƒë·ªãnh xu h∆∞·ªõng</button>
        <button class="tip-chip" data-tip="sl-tp">SL/TP c∆° b·∫£n</button>
        <button class="tip-chip" data-tip="risk">Qu·∫£n l√Ω r·ªßi ro</button>
      </div>
      <div class="practice-controls">
        <button id="practiceBtn" class="mini" type="button">Th·ª±c h√†nh 3 ph√∫t</button>
        <button id="focusToggle" class="mini" type="button">T·∫≠p trung 1 coin</button>
        <button id="candleGuideBtn" class="mini" type="button">M·∫´u n·∫øn (50)</button>
      </div>
      <div class="replay-controls">
        <button id="replayToggle" class="mini" type="button">Replay 5 ph√∫t</button>
        <div class="replay-slider hidden" id="replaySliderWrap">
          <input id="replayRange" type="range" min="0" max="5" step="1" value="0" />
          <span id="replayLabel">-0m</span>
        </div>
      </div>
      <div class="chart-wrap" id="chartArea">
          <div class="chart-grid layout-1" id="chartGrid">
          <div class="chart-tile" data-slot="0">
            <div class="tile-label" id="tileLabel0">BTC/USD</div>
            <div class="chart-tv" data-slot="0"></div>
            <canvas class="chart-layer chart-bg" id="priceBg0" width="900" height="380"></canvas>
            <canvas class="chart-layer chart-fg" id="priceFg0" width="900" height="380"></canvas>
            <canvas class="chart-layer chart-fx" id="priceFx0" width="900" height="380"></canvas>
          </div>
          <div class="chart-tile" data-slot="1">
            <div class="tile-label" id="tileLabel1">ETH/USD</div>
            <div class="chart-tv" data-slot="1"></div>
            <canvas class="chart-layer chart-bg" id="priceBg1" width="900" height="380"></canvas>
            <canvas class="chart-layer chart-fg" id="priceFg1" width="900" height="380"></canvas>
            <canvas class="chart-layer chart-fx" id="priceFx1" width="900" height="380"></canvas>
          </div>
          <div class="chart-tile" data-slot="2">
            <div class="tile-label" id="tileLabel2">SOL/USD</div>
            <div class="chart-tv" data-slot="2"></div>
            <canvas class="chart-layer chart-bg" id="priceBg2" width="900" height="380"></canvas>
            <canvas class="chart-layer chart-fg" id="priceFg2" width="900" height="380"></canvas>
            <canvas class="chart-layer chart-fx" id="priceFx2" width="900" height="380"></canvas>
          </div>
          <div class="chart-tile" data-slot="3">
            <div class="tile-label" id="tileLabel3">XRP/USD</div>
            <div class="chart-tv" data-slot="3"></div>
            <canvas class="chart-layer chart-bg" id="priceBg3" width="900" height="380"></canvas>
            <canvas class="chart-layer chart-fg" id="priceFg3" width="900" height="380"></canvas>
            <canvas class="chart-layer chart-fx" id="priceFx3" width="900" height="380"></canvas>
          </div>
        </div>
        <div class="candle-ticker" id="candleTicker" aria-label="Danh s√°ch m·∫´u n·∫øn">
          <div class="candle-ticker-track" id="candleTickerTrack"></div>
        </div>
        <div class="chart-tooltip hidden" id="chartTooltip"></div>
        <div class="practice-pop hidden" id="practiceOverlay">
          <div class="practice-card">
            <div class="practice-head">
              <div>
                <div class="practice-title">Luy·ªán t·∫≠p 3 ph√∫t</div>
                <div class="practice-sub">Ho√†n th√†nh SL/TP + ƒë·∫∑t l·ªánh</div>
              </div>
              <button id="practiceClose" type="button">Tho√°t</button>
            </div>
            <div class="practice-timer" id="practiceTimer">03:00</div>
            <div class="practice-check">
              <label><input type="checkbox" id="practiceSL" /> ƒê·∫∑t SL</label>
              <label><input type="checkbox" id="practiceTP" /> ƒê·∫∑t TP</label>
              <label><input type="checkbox" id="practiceOrder" /> ƒê·∫∑t l·ªánh</label>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="panel orderbook" id="panelOrderbook">
      <div class="panel-head">
        <div>
          <div class="panel-title">S·ªï l·ªánh</div>
          <div class="panel-sub">Bid/Ask depth realtime</div>
        </div>
        <div class="legend">
          <span class="dot green"></span> Mua
          <span class="dot red"></span> B√°n
        </div>
      </div>
      <div class="depth-chart">
        <canvas id="depthChart" width="420" height="140"></canvas>
      </div>
      <div class="orderbook-grid">
        <div class="orderbook-col" id="asks"></div>
        <div class="orderbook-col" id="bids"></div>
      </div>
    </section>

    <section class="panel trades" id="panelTrades">
      <div class="panel-head">
        <div>
          <div class="panel-title">L·ªãch s·ª≠ kh·ªõp l·ªánh</div>
          <div class="panel-sub">Giao d·ªãch m·ªõi nh·∫•t</div>
        </div>
      </div>
      <div class="trades-list" id="tradesList"></div>
    </section>

    <section class="panel orderform" id="panelOrder">
      <div class="panel-head">
        <div>
          <div class="panel-title">ƒê·∫∑t l·ªánh</div>
          <div class="panel-sub">Th·ªã tr∆∞·ªùng / Gi·ªõi h·∫°n</div>
        </div>
          <div class="tabs">
            <button class="tab active" data-side="buy" id="btnLong" aria-label="Mo lenh mua">Mua</button>
            <button class="tab" data-side="sell" id="btnShort" aria-label="Mo lenh ban">B√°n</button>
          </div>
      </div>
      <div class="today-assist" id="todayAssist">
        <div class="assist-head">
          <div>
            <div class="assist-title">H√¥m nay l√†m g√¨?</div>
            <div class="assist-sub">3 b∆∞·ªõc nhanh cho ng∆∞·ªùi m·ªõi</div>
          </div>
          <div class="assist-progress">
            <span id="assistTimer">30s</span>
            <span id="assistDone">0/3</span>
          </div>
        </div>
        <div class="assist-item" data-assist="viewChart">
          <div class="assist-label">Xem bi·ªÉu ƒë·ªì v√† hi·ªÉu xu h∆∞·ªõng</div>
          <div class="assist-actions">
            <button class="assist-btn" id="assistViewChart" type="button">Xem</button>
            <span class="assist-check">‚úì</span>
          </div>
        </div>
        <div class="assist-item" data-assist="demoOrder">
          <div class="assist-label">ƒê·∫∑t l·ªánh demo v·ªõi 10% v·ªën</div>
          <div class="assist-actions">
            <button class="assist-btn" id="assistDemoOrder" type="button">T·∫°o</button>
            <span class="assist-check">‚úì</span>
          </div>
        </div>
        <div class="assist-item" data-assist="sampleSLTP">
          <div class="assist-label">√Åp d·ª•ng SL/TP m·∫´u 1%/2%</div>
          <div class="assist-actions">
            <button class="assist-btn" id="assistSampleSLTP" type="button">√Åp d·ª•ng</button>
            <span class="assist-check">‚úì</span>
          </div>
        </div>
      </div>
      <div class="order-templates" id="orderTemplates">
        <div class="order-templates-title">Mau lenh 1-click</div>
        <div class="order-templates-row">
          <button type="button" data-template="safe">An to√†n</button>
          <button type="button" data-template="mid">Trung binh</button>
          <button type="button" data-template="risk">Mao hiem</button>
        </div>
      </div>
      <div class="form-grid">
        <label>Lo·∫°i l·ªánh</label>
        <select id="orderType" aria-label="Loai lenh">
          <option value="market">Th·ªã tr∆∞·ªùng</option>
          <option value="limit">Gi·ªõi h·∫°n</option>
        </select>

          <label>ƒê√≤n b·∫©y</label>
          <select id="leverageSlider" aria-label="ƒê√≤n b·∫©y">
          <option value="1">x1 (Spot)</option>
          <option value="5">x5</option>
          <option value="10">x10</option>
          <option value="25">x25</option>
          <option value="50">x50</option>
          <option value="75">x75</option>
          <option value="100">x100</option>
          <option value="125">x125</option>
        </select>

        <label>Gi√°</label>
        <input id="orderPrice" placeholder="T·ª± ƒë·ªông" disabled />

        <label>S·ªë l∆∞·ª£ng</label>
        <div class="qty-stepper">
          <button id="orderQtyDown" type="button" aria-label="Gi·∫£m s·ªë l∆∞·ª£ng">-</button>
          <input id="orderQty" type="number" min="0" step="0.0001" placeholder="0" aria-label="So luong lenh" />
          <button id="orderQtyUp" type="button" aria-label="TƒÉng s·ªë l∆∞·ª£ng">+</button>
        </div>

        <label>% v·ªën</label>
        <div class="percent-row">
          <input id="orderPercent" type="range" min="0" max="100" step="5" value="0" aria-label="Ti le von su dung" />
          <span id="orderPercentLabel">0%</span>
        </div>

        <label>Stop-Loss</label>
        <input id="orderStop" type="number" min="0" step="0.0001" placeholder="T√πy ch·ªçn" />

        <label>Take-Profit</label>
        <input id="orderTake" type="number" min="0" step="0.0001" placeholder="T√πy ch·ªçn" />

        <label>Trailing Stop (%)</label>
        <input id="orderTrail" type="number" min="0" step="0.1" placeholder="V√≠ d·ª• 2.5" />

        <label>T·ªïng</label>
        <div class="calc" id="orderTotal">0</div>

        <label>Ph√≠</label>
        <div class="calc" id="orderFee">0</div>
      </div>
      <div class="order-preview" id="orderPreview">
        <div class="order-preview-title">Xem truoc lenh</div>
        <div class="order-preview-grid">
          <div>Gia</div><div id="previewPrice">-</div>
          <div>ƒê√≤n b·∫©y</div><div id="previewLeverage">-</div>
          <div>Notional</div><div id="previewNotional">-</div>
          <div>Truot gia</div><div id="previewSlippage">-</div>
          <div>Phi</div><div id="previewFee">-</div>
          <div>Margin</div><div id="previewMargin">-</div>
          <div>Liquidation</div><div id="previewLiquidation">-</div>
        </div>
      </div>
      <button class="cta" id="submitOrder" aria-label="ƒê·∫∑t l·ªánh">ƒê·∫∑t l·ªánh</button>
      <div class="notice" id="orderNote">S·ªë d∆∞ kh·∫£ d·ª•ng s·∫Ω b·ªã tr·ª´ ngay khi kh·ªõp l·ªánh.</div>
    </section>

    <section class="panel wallet" id="panelWallet">
      <div class="panel-head">
        <div>
          <div class="panel-title">V√≠ & T√†i s·∫£n</div>
          <div class="panel-sub">VND / USD ·∫£o trong game</div>
        </div>
      </div>
      <div class="equity">
        <div class="equity-title">Equity Curve</div>
        <canvas id="equityChart" width="600" height="120"></canvas>
      </div>
      <div class="balance-grid">
        <div class="balance-card">
          <div class="balance-label">USD</div>
          <div class="balance-value" id="usdBalance">0</div>
        </div>
        <div class="balance-card">
          <div class="balance-label">VND</div>
          <div class="balance-value" id="vndBalance">0</div>
        </div>
      </div>
      <div class="portfolio" id="portfolioList"></div>
      <div class="positions" id="positionsList"></div>
      <div class="password-panel">
        <div class="password-title">ƒê·ªïi m·∫≠t kh·∫©u</div>
        <div class="password-grid">
          <input id="oldPassword" type="password" placeholder="M·∫≠t kh·∫©u c≈©" />
          <input id="newPassword" type="password" placeholder="M·∫≠t kh·∫©u m·ªõi" />
          <input id="confirmPassword" type="password" placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u m·ªõi" />
          <button id="changePasswordBtn" type="button">C·∫≠p nh·∫≠t</button>
        </div>
        <div class="password-msg" id="passwordMsg"></div>
      </div>
    </section>

    <section class="panel orders" id="panelOrders">
      <div class="panel-head">
        <div>
          <div class="panel-title">L·ªánh ch·ªù</div>
          <div class="panel-sub">L·ªánh gi·ªõi h·∫°n ƒëang m·ªü</div>
        </div>
      </div>
      <div class="orders-list" id="openOrders"></div>
    </section>

    <section class="panel chat" id="panelChat">
      <div class="panel-head">
        <div>
          <div class="panel-title">Tr√≤ chuy·ªán</div>
          <div class="panel-sub">Ph√≤ng chat chung</div>
        </div>
      </div>
      <div class="chat-tools">
        <div class="chat-online">
          <span>Online:</span>
          <span id="chatOnlineCount">0</span>
          <div class="chat-online-list" id="chatOnlineList"></div>
        </div>
        <div class="chat-tool-actions">
          <select id="chatFilter" aria-label="Loc chat">
            <option value="all">Tat ca</option>
            <option value="user">Nguoi choi</option>
            <option value="bot">Bot</option>
            <option value="system">He thong</option>
            <option value="pinned">Ghim</option>
          </select>
          <select id="chatMuteSelect" aria-label="Mute chat">
            <option value="15">Mute 15m</option>
            <option value="30">Mute 30m</option>
            <option value="60">Mute 60m</option>
          </select>
          <button id="chatMuteBtn" type="button">Mute</button>
        </div>
      </div>
      <div class="chat-pinned" id="chatPinned"></div>
      <div class="chat-body" id="chatMessages"></div>
      <div class="chat-input">
        <input id="chatInput" placeholder="Nh·∫≠p tin nh·∫Øn..." />
        <button id="chatSendBtn" type="button">G·ª≠i</button>
      </div>
    </section>

    <section class="panel gamify">
      <div class="panel-head">
        <div>
          <div class="panel-title">Th√†nh t·ª±u & BXH</div>
          <div class="panel-sub">Huy hi·ªáu v√† k·ª∑ l·ª•c c√° nh√¢n</div>
        </div>
      </div>
      <div class="bot-panel">
        <div class="bot-title">Sao ch√©p giao d·ªãch - Bot trader huy·ªÅn tho·∫°i</div>
        <div class="bot-list" id="botList"></div>
      </div>
      <div class="daily-checkin" id="dailyCheckin">
        <div class="daily-title">ƒêi·ªÉm danh h√¥m nay</div>
        <div class="daily-sub" id="dailyCheckinSub">Chu·ªói hi·ªán t·∫°i: 0 ng√†y</div>
        <div class="daily-row">
          <button id="dailyCheckinBtn" type="button">Nh·∫≠n th∆∞·ªüng</button>
          <div class="daily-streak" id="dailyStreakBadge">0 ng√†y</div>
        </div>
        <div class="daily-next" id="dailyNextTime"></div>
      </div>
      <div class="mini-predict" id="miniPredict">
        <div class="mini-title">D·ª± ƒëo√°n n·∫øn ti·∫øp theo</div>
        <div class="mini-sub">Ch·ªçn xanh ho·∫∑c ƒë·ªè. K·∫øt qu·∫£ sau 5 gi√¢y.</div>
        <div class="mini-row">
          <button id="predictUpBtn" type="button">Xanh</button>
          <button id="predictDownBtn" type="button">ƒê·ªè</button>
          <div class="mini-badge" id="predictStatus">S·∫µn s√†ng</div>
        </div>
        <div class="mini-result" id="predictResult"></div>
      </div>
      <div class="spin-card" id="spinCard">
        <div class="spin-title">V√≤ng quay may m·∫Øn</div>
        <div class="spin-sub" id="spinStatus">ƒêƒÉng nh·∫≠p ƒë·ªÉ quay.</div>
        <div class="spin-wheel-wrap">
          <div class="spin-wheel" id="spinWheel">
            <div class="spin-label spin-label-0">+100$</div>
            <div class="spin-label spin-label-1">+500$</div>
            <div class="spin-label spin-label-2">X2 ƒë√≤n b·∫©y</div>
          </div>
          <div class="spin-pointer"></div>
        </div>
        <button id="spinBtn" type="button">Quay</button>
        <div class="spin-note" id="spinNote"></div>
      </div>
      <div class="career">
        <div class="career-head">
          <div class="career-title">S·ª± nghi·ªáp Trader</div>
          <div class="career-level">C·∫•p <span id="careerLevel">1</span></div>
        </div>
        <div class="xp-bar"><div id="xpFill"></div></div>
        <div class="career-stats">
          <div>XP: <span id="careerXp">0</span> / <span id="careerXpNext">0</span></div>
          <div>ƒê√≤n b·∫©y t·ªëi ƒëa: <span id="careerMaxLev">x50</span></div>
          <div>Ph√≠: <span id="careerFee">0.10%</span></div>
          <div>M·ªü kh√≥a: <span id="careerUnlocks">-</span></div>
        </div>
      </div>
      <div class="booster-shop" id="boosterShop"></div>
      <div class="booster-inv" id="boosterInventory"></div>
      <div class="achievement-list" id="achievementList"></div>
      <div class="leaderboard-controls">
        <div class="leaderboard-title">BXH ƒë·∫°i gia (Top 100)</div>
        <div class="leaderboard-tabs">
          <button id="lbTabReal" class="mini active" type="button">Rank th·∫≠t</button>
          <button id="lbTabSandbox" class="mini" type="button">Sandbox</button>
        </div>
        <button id="lbPrivacyBtn" class="mini" type="button">C√¥ng khai</button>
      </div>
      <div class="leaderboard rich" id="richLeaderboard"></div>
      <div class="leaderboard" id="leaderboard"></div>
      <div class="leaderboard" id="weeklyLeaderboard"></div>
      <div class="lesson-history" id="lessonHistory">
        <div class="lesson-history-title">L·ªãch s·ª≠ h·ªçc t·∫≠p</div>
        <div class="lesson-history-list" id="lessonHistoryList"></div>
      </div>
      <div class="poll-card" id="bullBearPoll">
        <div class="poll-title">Th·ªã tr∆∞·ªùng h√¥m nay?</div>
        <div class="poll-sub">B·∫ßu ch·ªçn Bull/Bear ƒë·ªÉ nh·∫≠n XP</div>
        <div class="poll-bar">
          <div class="poll-bull" id="pollBullBar"></div>
          <div class="poll-bear" id="pollBearBar"></div>
        </div>
        <div class="poll-stats">
          <span id="pollBullPct">50% Bull</span>
          <span id="pollBearPct">50% Bear</span>
        </div>
        <div class="poll-actions">
          <button id="pollBullBtn" type="button">Bull</button>
          <button id="pollBearBtn" type="button">Bear</button>
        </div>
        <div class="poll-note" id="pollNote"></div>
      </div>
      <div class="tip-card" id="dailyTipCard">
        <div class="tip-label">Tip nhanh</div>
        <div class="tip-text" id="dailyTipText">...</div>
      </div>
    </section>
  </main>

  <div class="toast" id="toast"></div>
  <div class="undo-toast" id="undoToast" aria-live="polite">
    <span id="undoText">ƒê√£ h·ªßy l·ªánh.</span>
    <button id="undoBtn" type="button">Ho√†n t√°c</button>
  </div>
  <div class="broadcast-overlay hidden" id="broadcastOverlay">
    <div class="broadcast-card">
      <div class="broadcast-title">Th√¥ng b√°o t·ª´ Admin</div>
      <div class="broadcast-message" id="broadcastMessage">...</div>
      <div class="broadcast-timer" id="broadcastTimer"></div>
    </div>
  </div>
  <div class="rest-overlay hidden" id="restOverlay">
    <div class="rest-card">
      <div class="rest-title">De xuat nghi 15 phut</div>
      <div class="rest-sub" id="restSub">Ban dang thua lien tuc. Hay nghi de binh tinh.</div>
      <div class="rest-timer" id="restTimer">15:00</div>
      <button id="restClose" type="button">Dong</button>
    </div>
  </div>
  <div class="mail-overlay hidden" id="mailOverlay">
    <div class="mail-card">
      <div class="mail-header">
        <div>
          <div class="mail-title">H·ªôp th∆∞</div>
          <div class="mail-sub">Th√¥ng b√°o & ph·∫ßn th∆∞·ªüng t·ª´ Admin</div>
        </div>
        <button id="mailCloseBtn" type="button">ƒê√≥ng</button>
      </div>
      <div class="mail-tools">
        <select id="mailFilter" aria-label="Loc hop thu">
          <option value="all">Tat ca</option>
          <option value="admin">Admin</option>
          <option value="reward">Thuong</option>
          <option value="system">He thong</option>
        </select>
        <button id="mailMarkAll" type="button" aria-label="Danh dau da doc tat ca">Da doc het</button>
        <button id="mailMute" type="button" aria-label="Tat thong bao trong 1 gio">Mute 1h</button>
      </div>
      <div class="mail-section">
        <div class="mail-section-title">Th√¥ng b√°o / Code</div>
        <div id="mailList" class="mail-list"></div>
      </div>
      <div class="mail-section">
        <div class="mail-section-title">T√∫i ƒë·ªì</div>
        <div id="inventoryList" class="mail-list"></div>
        <div class="mail-section-title">Buff ƒëang ho·∫°t ƒë·ªông</div>
        <div id="activeBuffList" class="mail-list"></div>
      </div>
    </div>
  </div>
  <div class="chat-popup-overlay hidden" id="chatPopupOverlay" aria-hidden="true">
    <div class="chat-popup-card">
      <div class="chat-popup-head">
        <div>
          <div class="chat-popup-title">Tr√É¬≤ chuy√°¬ª‚Ä°n</div>
          <div class="chat-popup-sub">Ph√É¬≤ng chat chung</div>
        </div>
        <div class="chat-popup-actions">
          <button id="chatPopupClose" type="button">ƒê√≥ng</button>
        </div>
      </div>
      <div class="chat-pinned" id="chatPopupPinned"></div>
      <div class="chat-body" id="chatPopupMessages"></div>
      <div class="chat-input">
        <input id="chatPopupInput" placeholder="Nh·∫≠p tin nh·∫Øn..." />
        <button id="chatPopupSendBtn" type="button">G·ª≠i</button>
      </div>
    </div>
  </div>
  <div class="liquidation-overlay" id="liquidationOverlay">
    <div class="liquidation-text">B·ªä THANH L√ù</div>
    <div class="liquidation-sub">K√Ω qu·ªπ kh√¥ng ƒë·ªß, v·ªã th·∫ø b·ªã thanh l√Ω</div>
  </div>
  <div class="quick-actions" id="quickActions">
    <button id="quickBuyBtn" type="button" aria-label="Mua nhanh">Mua nhanh</button>
    <button id="quickSellBtn" type="button" aria-label="Ban nhanh">B√°n nhanh</button>
    <button id="quickCancelBtn" type="button" aria-label="H·ªßy l·ªánh g·∫ßn nh·∫•t">H·ªßy l·ªánh g·∫ßn nh·∫•t</button>
  </div>
  <button class="chat-float-btn" id="chatPopupToggle" type="button" aria-label="M·ªü chat">Chat <span id="chatBadge" class="chat-badge hidden">0</span></button>
  <div class="tip-overlay hidden" id="tipOverlay">
    <div class="tip-card">
      <div class="tip-head">
        <div>
          <div class="tip-title" id="tipTitle">Video tip</div>
          <div class="tip-sub" id="tipSub">15 gi√¢y</div>
        </div>
        <button class="tip-close" id="tipClose" type="button">ƒê√≥ng</button>
      </div>
      <div class="tip-audio-row">
        <button class="tip-audio" id="tipAudioBtn" type="button">Audio</button>
      </div>
      <div class="tip-video-wrap" id="tipVideoWrap">
        <video id="tipVideo" class="tip-video" playsinline muted></video>
        <div class="tip-fallback" id="tipFallback">ƒêang ph√°t tip...</div>
      </div>
      <div class="tip-text" id="tipText"></div>
      <div class="tip-timer">C√≤n l·∫°i: <span id="tipTimer">15s</span></div>
    </div>
  </div>
  <div class="quiz-overlay hidden" id="quizOverlay">
    <div class="quiz-card">
      <div class="quiz-title" id="quizTitle">Mini quiz</div>
      <div class="quiz-sub" id="quizSub">Tra loi 2 cau de nhan XP</div>
      <div class="quiz-question" id="quizQuestion"></div>
      <div class="quiz-options" id="quizOptions"></div>
      <div class="quiz-actions">
        <button id="quizSkip" type="button">B·ªè qua</button>
        <button id="quizNext" type="button">Ti·∫øp t·ª•c</button>
      </div>
    </div>
  </div>
  <div class="order-warn-overlay hidden" id="orderWarnOverlay">
    <div class="order-warn-card">
      <div class="order-warn-title" id="orderWarnTitle">C·∫£nh b√°o</div>
      <div class="order-warn-text" id="orderWarnText"></div>
      <div class="order-warn-actions">
        <button id="orderWarnSecondary" type="button">H·ªßy</button>
        <button id="orderWarnPrimary" type="button">Ti·∫øp t·ª•c</button>
      </div>
    </div>
  </div>
  <div class="confirm-overlay hidden" id="logoutOverlay">
    <div class="confirm-card">
      <div class="confirm-title">ƒêƒÉng xu·∫•t?</div>
      <div class="confirm-sub">B·∫°n ch·∫Øc ch·∫Øn mu·ªën ƒëƒÉng xu·∫•t?</div>
      <div class="confirm-actions">
        <button id="logoutConfirmBtn" type="button">ƒêƒÉng xu·∫•t</button>
        <button id="logoutCancelBtn" type="button">H·ªßy</button>
      </div>
    </div>
  </div>
  <div class="admin-modal hidden" id="adminModal">
    <div class="admin-modal-card">
      <div class="admin-modal-title" id="adminModalTitle">X√°c nh·∫≠n</div>
      <div class="admin-modal-text" id="adminModalText"></div>
      <input id="adminModalInput" class="admin-modal-input" type="text" />
      <div class="admin-modal-actions">
        <button id="adminModalCancel" type="button">H·ªßy</button>
        <button id="adminModalOk" type="button">X√°c nh·∫≠n</button>
      </div>
    </div>
  </div>

  <div id="godPanel" class="god-panel hidden">
    <h3>ƒêi·ªÅu khi·ªÉn Admin ‚ö°</h3>
    <div class="god-grid">
      <button onclick="triggerGodMode('CRASH')">üìâ S·∫≠p th·ªã tr∆∞·ªùng</button>
      <button onclick="triggerGodMode('PUMP_BTC')">üöÄ B∆°m gi√°</button>
      <button onclick="triggerGodMode('FREEZE')">‚ùÑÔ∏è ƒê√≥ng bƒÉng</button>
      <button onclick="triggerGodMode('CALM')">üòå H·∫° nhi·ªát</button>
      <button onclick="resetSimulation()">‚Üª ƒê·∫∑t l·∫°i m√¥ ph·ªèng</button>
    </div>
    <label>Bi·∫øn ƒë·ªông: <input type="range" id="volRange" min="1" max="100" value="10"></label>
    <div class="god-set">
      <input type="number" id="godPrice" placeholder="ƒê·∫∑t gi√° (USD)" step="0.0001" />
      <button onclick="triggerGodMode('SET_PRICE')">ƒê·∫∑t gi√°</button>
    </div>
  </div>
  <div id="adminPanel" class="admin-panel hidden">
    <div class="admin-header" id="adminHeader">
      <div class="admin-title">Qu·∫£n tr·ªã h·ªá th·ªëng</div>
      <div class="admin-header-actions">
        <button id="adminFullBtn" type="button">To√†n m√†n h√¨nh</button>
        <button id="adminResetPos" type="button">V·ªÅ g√≥c</button>
      </div>
    </div>
    <div class="admin-kpi">
      <div class="admin-kpi-card">
        <div class="admin-kpi-label">Online</div>
        <div class="admin-kpi-value" id="adminKpiOnline">0</div>
      </div>
      <div class="admin-kpi-card">
        <div class="admin-kpi-label">L·ªánh ch·ªù</div>
        <div class="admin-kpi-value" id="adminKpiOrders">0</div>
      </div>
      <div class="admin-kpi-card">
        <div class="admin-kpi-label">Volume 24h</div>
        <div class="admin-kpi-value" id="adminKpiVolume">$0</div>
      </div>
      <div class="admin-kpi-card">
        <div class="admin-kpi-label">PnL m·ªü</div>
        <div class="admin-kpi-value" id="adminKpiPnl">$0</div>
      </div>
    </div>
    <div class="admin-grid">
      <input type="text" id="adminTarget" placeholder="T√†i kho·∫£n" />
      <select id="adminCurrency">
        <option value="USD">USD</option>
        <option value="VND">VND</option>
      </select>
      <input type="number" id="adminAmount" placeholder="S·ªë ti·ªÅn" step="0.0001" />
      <button id="adminSetBtn" type="button">C·∫≠p nh·∫≠t s·ªë d∆∞</button>
      <button id="adminRefreshBtn" type="button">L√†m m·ªõi danh s√°ch</button>
    </div>
    <div class="admin-section">
      <div class="admin-section-title">Ph√°t th√¥ng b√°o / H·ªôp th∆∞</div>
      <div class="admin-grid admin-broadcast">
        <textarea id="adminBroadcastMsg" placeholder="N·ªôi dung th√¥ng b√°o to√†n h·ªá th·ªëng"></textarea>
        <input type="number" id="adminBroadcastDuration" placeholder="Hi·ªÉn th·ªã (gi√¢y)" step="1" value="30" />
        <button id="adminBroadcastBtn" type="button">Ph√°t th√¥ng b√°o</button>
      </div>
      <div class="admin-grid admin-mail">
        <input type="text" id="adminMailTarget" placeholder="User nh·∫≠n (ƒë·ªÉ tr·ªëng = t·∫•t c·∫£)" />
        <input type="text" id="adminMailTitle" placeholder="Ti√™u ƒë·ªÅ th∆∞" />
        <textarea id="adminMailMessage" placeholder="N·ªôi dung th∆∞ / code"></textarea>
        <input type="number" id="adminMailUsd" placeholder="USD t·∫∑ng" step="0.01" />
        <input type="number" id="adminMailVnd" placeholder="VND t·∫∑ng" step="1000" />
        <input type="text" id="adminMailCoin" placeholder="Coin (v√≠ d·ª• BTC)" />
        <input type="number" id="adminMailCoinQty" placeholder="S·ªë l∆∞·ª£ng coin" step="0.0001" />
        <input type="number" id="adminMailBoostInsurance" placeholder="Th·∫ª b·∫£o hi·ªÉm" step="1" />
        <input type="number" id="adminMailBoostAnonymity" placeholder="Th·∫ª ·∫©n danh" step="1" />
        <input type="text" id="adminMailItemName" placeholder="T√™n v·∫≠t ph·∫©m" />
        <input type="text" id="adminMailItemDesc" placeholder="M√¥ t·∫£ v·∫≠t ph·∫©m" />
        <select id="adminMailItemType">
          <option value="buff">Buff ti√™u hao</option>
          <option value="boost_insurance">Th·∫ª b·∫£o hi·ªÉm</option>
          <option value="boost_anonymity">Th·∫ª ·∫©n danh</option>
        </select>
        <input type="number" id="adminMailItemDuration" placeholder="Th·ªùi h·∫°n (ph√∫t, 0=vƒ©nh vi·ªÖn)" step="1" value="0" />
        <button id="adminMailSendBtn" type="button">G·ª≠i h·ªôp th∆∞</button>
      </div>
    </div>
    <div class="admin-grid" id="adminPriceControls">
      <select id="adminCoinSelect"></select>
      <input type="number" id="adminCoinPercent" placeholder="% tƒÉng/gi·∫£m" step="0.1" />
      <button id="adminCoinUpBtn" type="button">TƒÉng %</button>
      <button id="adminCoinDownBtn" type="button">Gi·∫£m %</button>
      <input type="number" id="adminCoinSet" placeholder="Gi√° m·ªõi (USD)" step="0.0001" />
      <button id="adminCoinSetBtn" type="button">ƒê·∫∑t gi√°</button>
    </div>
    <div class="admin-preview" id="adminPricePreview">Xem tr∆∞·ªõc: -</div>
    <div class="admin-section">
      <div class="admin-section-title">Dieu khien nen (admin)</div>
      <div class="admin-grid admin-candle" id="adminCandleControls">
        <select id="adminCandleSymbol"></select>
        <select id="adminCandleDirection">
          <option value="up">Nen tang</option>
          <option value="down">Nen giam</option>
          <option value="side">Nen di ngang</option>
        </select>
        <input type="number" id="adminCandleStrength" placeholder="% than nen" step="0.1" value="0.8" />
        <input type="number" id="adminCandleWick" placeholder="% bong nen" step="0.1" value="0.4" />
        <input type="number" id="adminCandleDuration" placeholder="Thoi gian (giay)" step="1" value="30" />
        <label class="admin-check"><input type="checkbox" id="adminCandleAll" /> Ap dung tat ca coin</label>
        <button id="adminCandleApply" type="button">Ap dung nen</button>
      </div>
    </div>
    <div class="admin-filters">
      <input type="number" id="adminMinBalance" placeholder="S·ªë d∆∞ t·ªëi thi·ªÉu (USD)" step="0.01" />
      <input type="number" id="adminNewDays" placeholder="T√†i kho·∫£n m·ªõi (ng√†y)" step="1" />
      <label class="admin-check"><input type="checkbox" id="adminFilterLocked" /> B·ªã kh√≥a</label>
      <label class="admin-check"><input type="checkbox" id="adminFilterDeleted" /> ƒê√£ x√≥a</label>
      <label class="admin-check"><input type="checkbox" id="adminFilterNew" /> M·ªõi t·∫°o</label>
      <label class="admin-check"><input type="checkbox" id="adminFilterAdmin" /> Qu·∫£n tr·ªã</label>
    </div>
    <div class="admin-settings">
      <label class="admin-check"><input type="checkbox" id="adminRegOpen" /> M·ªü ƒëƒÉng k√Ω</label>
      <label class="admin-check"><input type="checkbox" id="adminInviteOnly" /> Ch·ªâ m√£ m·ªùi</label>
      <input type="text" id="adminInviteCode" placeholder="M√£ m·ªùi" />
      <button id="adminInviteAdd" type="button">Th√™m m√£</button>
      <button id="adminInviteRemove" type="button">X√≥a m√£</button>
      <input type="text" id="adminBlockIp" placeholder="IP ch·∫∑n (vd 1.2.3.*)" />
      <button id="adminBlockIpBtn" type="button">Ch·∫∑n IP</button>
      <button id="adminUnblockIpBtn" type="button">B·ªè ch·∫∑n IP</button>
      <input type="text" id="adminWhitelistIp" placeholder="IP admin ƒë∆∞·ª£c ph√©p" />
      <button id="adminWhitelistIpBtn" type="button">Cho ph√©p IP</button>
      <button id="adminUnwhitelistIpBtn" type="button">G·ª° IP</button>
    </div>
    <div class="admin-advanced">
      <div id="adminAdvancedSuper">
        <div class="danger-zone">
          <div class="danger-title">Khu v·ª±c nguy hi·ªÉm</div>
          <div class="danger-sub">C√°c thao t√°c c√≥ th·ªÉ ·∫£nh h∆∞·ªüng to√†n h·ªá th·ªëng.</div>
          <div class="admin-settings admin-advanced-grid">
        <label class="admin-check"><input type="checkbox" id="adminMaintenance" /> Ch·∫ø ƒë·ªô b·∫£o tr√¨</label>
        <label class="admin-check"><input type="checkbox" id="adminOrderDisabled" /> T·∫Øt ƒë·∫∑t l·ªánh</label>
        <label class="admin-check"><input type="checkbox" id="adminMarginEnabled" /> Cho ph√©p margin</label>
        <label class="admin-check"><input type="checkbox" id="adminBlockStale" /> Ch·∫∑n gi√° stale</label>
        <label class="admin-check"><input type="checkbox" id="adminMarketFreeze" /> ƒê√≥ng bƒÉng th·ªã tr∆∞·ªùng</label>
        <label class="admin-check"><input type="checkbox" id="adminWithdrawDisabled" /> T·∫Øt r√∫t ti·ªÅn</label>
        <label class="admin-check"><input type="checkbox" id="adminDepositDisabled" /> T·∫Øt n·∫°p ti·ªÅn</label>
        <label class="admin-check"><input type="checkbox" id="adminSafeMode" /> Ch·∫ø ƒë·ªô an to√†n</label>
        <label class="admin-check"><input type="checkbox" id="adminReadOnly" /> Admin ch·ªâ ƒë·ªçc</label>
        <input type="number" id="adminSlippage" placeholder="Tr∆∞·ª£t gi√° (%)" step="0.01" />
        <button id="adminSetSlippage" type="button">C·∫≠p nh·∫≠t tr∆∞·ª£t gi√°</button>
        <input type="number" id="adminMaxCandleBodyPct" placeholder="Max th√¢n n·∫øn (%)" step="0.1" />
        <button id="adminSetMaxCandleBodyPct" type="button">C·∫≠p nh·∫≠t max n·∫øn</button>
        <input type="number" id="adminCancelPenalty" placeholder="Ph√≠ ph·∫°t h·ªßy" step="0.0001" />
        <button id="adminSetCancelPenalty" type="button">C·∫≠p nh·∫≠t ph·∫°t h·ªßy</button>
        <input type="number" id="adminStrikeLimit" placeholder="Gi·ªõi h·∫°n strike" step="1" />
        <button id="adminSetStrikeLimit" type="button">C·∫≠p nh·∫≠t gi·ªõi h·∫°n strike</button>
        <input type="text" id="adminGroupFeeGroup" placeholder="Nh√≥m (VIP/test...)" />
        <input type="number" id="adminGroupFeeRate" placeholder="Fee theo nh√≥m" step="0.0001" />
        <button id="adminSetGroupFee" type="button">C·∫≠p nh·∫≠t fee nh√≥m</button>
        <input type="text" id="adminAlertWebhook" placeholder="Webhook c·∫£nh b√°o" />
        <button id="adminSetAlertWebhook" type="button">C·∫≠p nh·∫≠t webhook</button>
        <input type="number" id="adminAccessStart" placeholder="Admin gi·ªù b·∫Øt ƒë·∫ßu (0-23)" step="1" />
        <input type="number" id="adminAccessEnd" placeholder="Admin gi·ªù k·∫øt th√∫c (0-24)" step="1" />
        <button id="adminSetAccessHours" type="button">C·∫≠p nh·∫≠t gi·ªù admin</button>
        <input type="number" id="adminIdleMs" placeholder="Idle timeout (ms)" step="1000" />
        <button id="adminSetIdleMs" type="button">C·∫≠p nh·∫≠t idle</button>
        <input type="number" id="adminSessionMs" placeholder="Session timeout (ms)" step="1000" />
        <button id="adminSetSessionMs" type="button">C·∫≠p nh·∫≠t session</button>
        <input type="number" id="adminRateSuper" placeholder="Gi·ªõi h·∫°n super" step="1" />
        <input type="number" id="adminRateMod" placeholder="Gi·ªõi h·∫°n mod" step="1" />
        <input type="number" id="adminRateAuth" placeholder="Gi·ªõi h·∫°n auth" step="1" />
        <button id="adminSetRateLimits" type="button">C·∫≠p nh·∫≠t gi·ªõi h·∫°n</button>
        <input type="number" id="adminLogRetention" placeholder="Gi·ªØ log (ng√†y)" step="1" />
        <button id="adminSetLogRetention" type="button">C·∫≠p nh·∫≠t gi·ªØ log</button>
        <button id="adminRunLogCleanup" type="button">D·ªçn log</button>
        <input type="text" id="adminSourceWhitelist" placeholder="Ngu·ªìn gi√° cho ph√©p (binance,coingecko,sim)" />
        <button id="adminSetSourceWhitelist" type="button">C·∫≠p nh·∫≠t ngu·ªìn</button>
        <input type="text" id="adminCoinVisibilitySymbol" placeholder="Coin ·∫©n/hi·ªán (m√£)" />
        <label class="admin-check"><input type="checkbox" id="adminCoinVisible" /> Hi·ªÉn th·ªã coin</label>
        <button id="adminSetCoinVisibility" type="button">C·∫≠p nh·∫≠t hi·ªÉn th·ªã</button>
        <input type="text" id="adminAddCoinSymbol" placeholder="M√£ coin m·ªõi" />
        <input type="text" id="adminAddCoinName" placeholder="T√™n coin" />
        <input type="number" id="adminAddCoinBase" placeholder="Gi√° base" step="0.0001" />
        <input type="number" id="adminAddCoinVol" placeholder="ƒê·ªô bi·∫øn ƒë·ªông" step="0.0001" />
        <button id="adminAddCoinBtn" type="button">Th√™m coin</button>
        <input type="text" id="adminRemoveCoinSymbol" placeholder="X√≥a coin (m√£)" />
        <button id="adminRemoveCoinBtn" type="button">X√≥a coin</button>
        <input type="text" id="adminCoinLimitSymbol" placeholder="Gi·ªõi h·∫°n coin (m√£)" />
        <input type="number" id="adminCoinMinQty" placeholder="S·ªë l∆∞·ª£ng t·ªëi thi·ªÉu" step="0.0001" />
        <input type="number" id="adminCoinMaxQty" placeholder="S·ªë l∆∞·ª£ng t·ªëi ƒëa" step="0.0001" />
        <input type="number" id="adminCoinPrecision" placeholder="ƒê·ªô ch√≠nh x√°c (0-8)" step="1" />
        <button id="adminSetCoinLimits" type="button">C·∫≠p nh·∫≠t gi·ªõi h·∫°n coin</button>
        <button id="adminBackupDbBtn" type="button">Sao l∆∞u DB</button>
        <input type="text" id="adminRestorePath" placeholder="ƒê∆∞·ªùng d·∫´n kh√¥i ph·ª•c" />
        <button id="adminRestoreDbBtn" type="button">Kh√¥i ph·ª•c DB</button>
          </div>
        </div>
        <h3>ƒêi·ªÅu khi·ªÉn coin n√¢ng cao</h3>
        <div class="admin-settings admin-advanced-grid">
        <label class="admin-check"><input type="checkbox" id="adminCoinFreeze" /> ƒê√≥ng bƒÉng coin ƒëang ch·ªçn</label>
        <input type="number" id="adminCoinLockPrice" placeholder="Kh√≥a gi√° (USD)" step="0.0001" />
        <input type="number" id="adminCoinLockSeconds" placeholder="Th·ªùi gian kh√≥a (gi√¢y)" step="1" />
        <button id="adminCoinLockBtn" type="button">Kh√≥a gi√° coin</button>
        <select id="adminCoinSource">
          <option value="">Ngu·ªìn gi√° m·∫∑c ƒë·ªãnh</option>
          <option value="binance">Binance</option>
          <option value="coingecko">CoinGecko</option>
          <option value="sim">Sim</option>
        </select>
        <button id="adminCoinSourceBtn" type="button">C·∫≠p nh·∫≠t ngu·ªìn</button>
        <input type="number" id="adminCoinVolScale" placeholder="H·ªá s·ªë bi·∫øn ƒë·ªông coin" step="0.1" />
        <button id="adminCoinVolBtn" type="button">C·∫≠p nh·∫≠t bi·∫øn ƒë·ªông</button>
        <input type="number" id="adminCoinCircuitPct" placeholder="C·∫ßu ch√¨ (%)" step="0.1" />
        <button id="adminCoinCircuitBtn" type="button">C·∫≠p nh·∫≠t c·∫ßu ch√¨</button>
        </div>
      </div>
      <div id="adminAdvancedStats">
        <h3>Th·ªëng k√™ & b√°o c√°o</h3>
        <div class="admin-settings admin-advanced-grid">
        <button id="adminStatsSpam" type="button">Spam l·ªánh</button>
        <button id="adminStatsDailyPnl" type="button">PnL theo ng√†y</button>
        <button id="adminStatsTopUsers" type="button">Top user PnL</button>
        <button id="adminStatsTopCoins" type="button">Top kh·ªëi l∆∞·ª£ng coin</button>
        <button id="adminStatsOpenInterest" type="button">H·ª£p ƒë·ªìng m·ªü</button>
        <button id="adminStatsOnline" type="button">Ng∆∞·ªùi d√πng online</button>
        <button id="adminStatsApprovals" type="button">H√†ng ch·ªù duy·ªát</button>
        <button id="adminStatsApprovalsByAction" type="button">Duy·ªát theo h√†nh ƒë·ªông</button>
        <button id="adminStatsAdminLog" type="button">Nh·∫≠t k√Ω admin</button>
        <button id="adminStatsModerator" type="button">Th·ªëng k√™ moderator</button>
        <button id="adminStatsDb" type="button">Tr·∫°ng th√°i DB</button>
        <button id="adminStatsWeekly" type="button">B√°o c√°o tu·∫ßn</button>
        <button id="adminStatsHeatmap" type="button">B·∫£n ƒë·ªì nhi·ªát spam</button>
        <button id="adminStatsCoins" type="button">Danh s√°ch coin</button>
        </div>
        <div class="admin-settings admin-advanced-grid">
        <input type="text" id="adminComplaintUser" placeholder="User khi·∫øu n·∫°i" />
        <input type="text" id="adminComplaintNote" placeholder="N·ªôi dung khi·∫øu n·∫°i" />
        <button id="adminComplaintAdd" type="button">T·∫°o khi·∫øu n·∫°i</button>
        <button id="adminComplaintList" type="button">Danh s√°ch khi·∫øu n·∫°i</button>
        <input type="text" id="adminComplaintId" placeholder="M√£ khi·∫øu n·∫°i" />
        <input type="text" id="adminComplaintNoteAdd" placeholder="Ghi ch√∫" />
        <button id="adminComplaintNoteBtn" type="button">Th√™m ghi ch√∫</button>
        <button id="adminComplaintResolve" type="button">ƒê√≥ng khi·∫øu n·∫°i</button>
        </div>
        <div class="admin-settings admin-advanced-grid">
        <button id="adminIncidentLoad" type="button">Checklist s·ª± c·ªë</button>
        <input type="text" id="adminIncidentId" placeholder="M√£ checklist" />
        <button id="adminIncidentToggle" type="button">ƒê·ªïi tr·∫°ng th√°i</button>
        <textarea id="adminIncidentJson" placeholder="JSON checklist (nh√£n/ho√†n th√†nh)" rows="3"></textarea>
        <button id="adminIncidentSave" type="button">L∆∞u checklist</button>
        </div>
        <div class="admin-settings admin-advanced-grid">
        <input type="text" id="adminTradeTarget" placeholder="User c·∫ßn xem trades" />
        <input type="number" id="adminTradeLimit" placeholder="Gi·ªõi h·∫°n giao d·ªãch" step="1" />
        <button id="adminTradeFetch" type="button">Xem trades</button>
        <button id="adminTradeExport" type="button">Xu·∫•t CSV</button>
        </div>
        <div class="admin-settings admin-advanced-grid">
        <input type="text" id="adminActionTarget" placeholder="User m·ª•c ti√™u" />
        <input type="text" id="adminCancelOrderId" placeholder="M√£ l·ªánh c·∫ßn h·ªßy" />
        <button id="adminCancelOrderBtn" type="button">H·ªßy l·ªánh (admin)</button>
        <button id="adminResetOrdersBtn" type="button">ƒê·∫∑t l·∫°i l·ªánh ch·ªù</button>
        <button id="adminResetPositionsBtn" type="button">ƒê·∫∑t l·∫°i v·ªã th·∫ø</button>
        <button id="adminImpersonateBtn" type="button">Gi·∫£ m·∫°o ƒëƒÉng nh·∫≠p</button>
        <button id="adminStopImpersonateBtn" type="button">D·ª´ng gi·∫£ m·∫°o</button>
        </div>
        <div class="admin-output">
        <div class="admin-output-title" id="adminStatsTitle">K·∫øt qu·∫£</div>
        <div class="admin-log-tools">
          <input type="text" id="adminLogSearch" placeholder="Loc theo tu khoa" aria-label="Tim trong lich su admin" />
          <select id="adminLogRole" aria-label="Loc theo vai tro admin">
            <option value="all">Tat ca role</option>
            <option value="super_admin">Super admin</option>
            <option value="moderator">Moderator</option>
          </select>
          <input type="text" id="adminLogAction" placeholder="Loc action" aria-label="Loc theo hanh dong admin" />
        </div>
        <div class="admin-output-actions">
          <button id="adminOutputBack" type="button">Quay l·∫°i</button>
          <button id="adminOutputShowAll" type="button">Hi·ªán t·∫•t c·∫£</button>
          <button id="adminCloseBtn" type="button">ƒê√≥ng admin</button>
        </div>
        <pre id="adminStatsOutput">Ch∆∞a c√≥ d·ªØ li·ªáu.</pre>
        </div>
      </div>
    </div>
    <input type="text" id="adminSearch" class="admin-search" placeholder="T√¨m theo username/email/ID" />
    <div class="admin-list" id="adminUserList"></div>
  </div>
  <div class="mobile-bar" id="mobileBar">
    <button type="button" data-target="#panelMarket">Thi truong</button>
    <button type="button" data-target="#panelChart">Bieu do</button>
    <button type="button" data-target="#panelOrder">ƒê·∫∑t l·ªánh</button>
    <button type="button" data-target="#panelWallet">Vi</button>
    <button type="button" data-target="#panelOrders">Lenh cho</button>
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://unpkg.com/lightweight-charts@3.8.0/dist/lightweight-charts.standalone.production.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const auth = document.getElementById("authOverlay");
      const onboarding = document.getElementById("onboardingOverlay");
      if (auth) auth.classList.remove("hidden");
      if (onboarding) onboarding.classList.remove("hidden");
    });
  </script>
  <script src="app.js"></script>
  <script>
    window.addEventListener("load", () => {
      if (window.startOnboarding) window.startOnboarding();
    });
  </script>
</body>
</html>
